

<!doctype html>
<html lang="en-US">
<head data-template-path="https://hacks.mozilla.org/wp-content/themes/Hax">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Metadata for Facebook -->
  <meta property="og:site_name" content="Mozilla Hacks &#8211; the Web developer blog">
  <meta property="og:url" content="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/">
  <meta property="og:title" content="Hacking &amp; Contributing to Servo On Windows">
  <meta property="og:description" content="Like many cross-platform open source projects, Servo, the high-performance browser engine project written in Rust, has always been a bit of a nightmare to build ...">
          <meta property="og:image" content="https://hacks.mozilla.org/files/2017/04/servoDebug-500x261.gif">
  
  <!-- Metadata for Twitter -->
  <meta property="twitter:title" content="Hacking &amp; Contributing to Servo On Windows">
  <meta property="twitter:description" content="Like many cross-platform open source projects, Servo, the high-performance browser engine project written in Rust, has always been a bit of a nightmare to build ...">
  <meta name="twitter:card" content="summary_large_image">
          <meta property="twitter:image" content="https://hacks.mozilla.org/files/2017/04/servoDebug-500x261.gif">
    <meta name="twitter:site" content="@mozhacks">

  <link rel="alternate" type="application/rss+xml" title="Mozilla Hacks &#8211; the Web developer blog RSS Feed" href="https://hacks.mozilla.org/feed/">

  <link href='//fonts.googleapis.com/css?family=Open+Sans:400,400italic,700,700italic' rel='stylesheet' type='text/css'>
  <link href="//addons.cdn.mozilla.net/static/css/tabzilla/tabzilla.css" rel="stylesheet">
  <link rel="stylesheet" href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/style.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/highlight.js/8.6.0/styles/solarized_light.min.css">

  <title>  Hacking &amp; Contributing to Servo On Windows &#x2605;
        Mozilla Hacks &#8211; the Web developer blog  </title>

  <script type="text/javascript">
    window.hacks = {};
    // http://cfsimplicity.com/61/removing-analytics-clutter-from-campaign-urls
    var removeUtms  =   function(){
        var l = window.location;
        if( l.hash.indexOf( "utm" ) != -1 ){
            var anchor = l.hash.match(/#(?!utm)[^&]+/);
            anchor  =   anchor? anchor[0]: '';
            if(!anchor && window.history.replaceState){
                history.replaceState({},'', l.pathname + l.search);
            } else {
                l.hash = anchor;
            }
        };
    };
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-35433268-8'],
              ['_setAllowAnchor', true]);
    _gaq.push (['_gat._anonymizeIp']);
    _gaq.push(['_trackPageview']);
    _gaq.push( removeUtms );
    (function(d, k) {
      var ga = d.createElement(k); ga.type = 'text/javascript'; ga.async = true;
      ga.src = 'https://ssl.google-analytics.com/ga.js';
      var s = d.getElementsByTagName(k)[0]; s.parentNode.insertBefore(ga, s);
    })(document, 'script');
  </script>

  <link rel='dns-prefetch' href='//s.w.org' />
<link rel="alternate" type="application/rss+xml" title="Mozilla Hacks - the Web developer blog &raquo; Hacking &amp; Contributing to Servo On Windows Comments Feed" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/feed/" />
<link rel='stylesheet' id='wp-syntax-css-css'  href='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/plugins/wp-syntax/css/wp-syntax.css?ver=1.1' type='text/css' media='all' />
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-includes/js/jquery/jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-includes/js/jquery/jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/js/analytics.js?ver=4.7.3'></script>
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/js/socialshare.min.js?ver=4.7.3'></script>
<link rel='https://api.w.org/' href='https://hacks.mozilla.org/wp-json/' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://hacks.mozilla.org/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://hacks.mozilla.org/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='HTML5 Games Workshop: Make a platformer game with JavaScript!' href='https://hacks.mozilla.org/2017/04/html5-games-workshop-make-a-platformer-game-with-javascript/' />
<link rel='next' title='Replace Bootstrap Layouts with CSS Grid' href='https://hacks.mozilla.org/2017/04/replace-bootstrap-layouts-with-css-grid/' />
<link rel="canonical" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/" />
<link rel='shortlink' href='https://hacks.mozilla.org/?p=30671' />
<link rel="alternate" type="application/json+oembed" href="https://hacks.mozilla.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fhacks.mozilla.org%2F2017%2F04%2Fhacking-contributing-to-servo-on-windows%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://hacks.mozilla.org/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fhacks.mozilla.org%2F2017%2F04%2Fhacking-contributing-to-servo-on-windows%2F&#038;format=xml" />
            <script type="text/javascript">
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-36116321-4', 'auto');
                ga('set', 'dimension1', 'Mozilla Hacks - the Web developer blog');
                ga('send', 'pageview');
            </script><link rel="shortcut icon" type="image/x-icon" href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/favicon.ico" /><style>#wpadminbar #wp-admin-bar-site-name>.ab-item:before { content: none !important;}li#wp-admin-bar-site-name a { background: url( "https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/favicon.ico" ) left center/20px no-repeat !important; padding-left: 21px !important; background-size: 20px !important; } li#wp-admin-bar-site-name { margin-left: 5px !important; } li#wp-admin-bar-site-name {} #wp-admin-bar-site-name div a { background: none !important; }
</style></head>
<body>
  <div class="outer-wrapper">
    <header class="section section--fullwidth header">
      <div class="masthead row">
        <div id="tabzilla">
          <a href="https://www.mozilla.org/">Mozilla</a>
        </div>
        <div class="branding block block--3">
          <h1><a href="https://hacks.mozilla.org"><img src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/img/mdn-logo-mono.svg" alt="Mozilla"><span>Hac<span class="logo-askew">k</span>s</span></a></h1>
        </div>
        <div class="search block block--2">
          <form class="search__form" method="get" action="https://hacks.mozilla.org/">
            <input type="search" name="s" class="search__input" placeholder="Search Mozilla Hacks" value="">
            <i class="fa fa-search search__badge"></i>
          </form>
        </div>
        <nav class="social">
          <a class="social__link youtube" href="http://www.youtube.com/user/mozhacks" title="YouTube"><i class="fa fa-youtube"></i><span>Hacks on YouTube</span></a>
          <a class="social__link twitter" href="https://twitter.com/mozhacks" title="Twitter"><i class="fa fa-twitter"></i><span>@mozhacks on Twitter</span></a>
          <a class="social__link rss" href="https://hacks.mozilla.org/feed/" title="RSS Feed"><i class="fa fa-rss"></i><span>Hacks RSS Feed</span></a>
        </nav>
      </div>
    </header>

  
<div id="content-head" class="section">
  <h1 class="post__title">Hacking &amp; Contributing to Servo On Windows</h1>
  <div class="byline">
    <h3 class="post__author">
                      <img alt='' src='https://secure.gravatar.com/avatar/05ba4b57dd88e5851ca20b6ca2c8c1d3?s=64&#038;d=mm&#038;r=g' srcset='https://secure.gravatar.com/avatar/05ba4b57dd88e5851ca20b6ca2c8c1d3?s=128&amp;d=mm&amp;r=g 2x' class='avatar avatar-64 photo' height='64' width='64' />        By
                                        <a class="url" href="http://jason-williams.co.uk" rel="external me">Jason Williams</a>                            </h2>
    <div class="post__meta">
      Posted on
      <abbr class="published" title="2017-04-06T09:21:24-07:00">
        April 6, 2017      </abbr>
      <span class="entry-cat">in
        <a href="https://hacks.mozilla.org/category/debugging/" rel="category tag" title="View all posts in Debugging" >Debugging</a>, <a href="https://hacks.mozilla.org/category/featured/" rel="category tag" title="View all posts in Featured Article" >Featured Article</a>, <a href="https://hacks.mozilla.org/category/rust-2/" rel="category tag" title="View all posts in Rust" >Rust</a>,  and <a href="https://hacks.mozilla.org/category/servo/" rel="category tag" title="View all posts in Servo" >Servo</a>      </span>
            <div class="socialshare" data-type="bubbles"></div>
    </div>
  </div>
</div>

<main id="content-main" class="section article">
  <article class="post" role="article">
    <p>Like many cross-platform open source projects, <a href="https://servo.org/" target="_blank">Servo</a>, the high-performance browser engine project written in Rust, has always been a bit of a nightmare to build and run on Windows. Luckily, thanks to the Rust team and Servo community, most of the issues have been squashed and we can now launch it with nothing more than just <a href="https://en.wikipedia.org/wiki/PowerShell" target="_blank">PowerShell</a>, plus with a full stack of native Windows libraries and tool usage.</p>
<p>Why did this take so long to happen?</p>
<h2>A brief history..</h2>
<p>Back in 2013 when Servo development started, it only ran on Linux systems and OSX. This was largely due to the developers of Servo being on those operating systems.</p>
<p>As a byproduct, Servo ended up with many Linux-based dependencies (make, gcc, etc.), the build system would make hard-coded calls to <code>/bin/:/usr/bin/[etc]</code>. Migrating these to cross-platform took time. Servo engineer <a href="https://twitter.com/larsberg_" target="_blank">Lars Bergstrom</a> explains:</p>
<blockquote><p><i>&#8220;Certainly font support and build system stuff has taken the most effort. In general, making sure that all of the hundreds of crates in the Servo dependency graph not only build but work correctly on Windows has taken a lot of effort.</i></p>
<p><i>A lot of things (including Servo) were also easy to get over on <a href="http://www.mingw.org/" target="_blank">MinGW</a> with a &#8220;unixy&#8221; Windows experience, but getting a true, native Windows experience using MSVC took a lot longer.</i>&#8220;</p></blockquote>
<p>A year later, the quick and easy solution to running Servo on Windows was to emulate a Linux environment, so this led to arcane setup instructions using <code>msys</code> and <code>mingw</code> on Windows. Although Servo would build, it seemed like more of a temporary solution.</p>
<p>A Windows branch of Servo was created, with many build steps fixed over time; and modules, which used only Linux components, stubbed out. One by one, we were able to <a href="https://github.com/servo/servo/issues/12125">tick off the incompatibilities</a>.</p>
<p>There’s been a <a href="https://github.com/servo/servo/issues/1908">push</a> by a few of us, with a lot of help from <a href="https://github.com/vvuk">Vlad</a>, to have Servo properly building on Windows and using the Microsoft Visual C++ compiler (MSVC) for some time. And finally we’re there!</p>
<p>So how to begin developing? For these examples I will be using Windows 10 x64.</p>
<p>&nbsp;</p>
<h2>Let’s get started</h2>
<p>You don’t have to do your editing in here, but Visual Studio (VS) allows us to actually debug the binary. We can pause at any moment and edit breakpoints (more on this later).</p>
<p>Let’s go to <a href="https://www.visualstudio.com/downloads/">https://www.visualstudio.com/downloads/</a> and download “Visual Studio 2017 Community”.</p>
<p>Once it downloads, and you get the options to come up, navigate to the <em>individual components</em> tab and select:</p>
<ul>
<li>C++/CLI support</li>
<li>Profiling Tools</li>
<li>Visual C++ tools for Cmake</li>
<li>VC++ 2017 v141 toolset</li>
</ul>
<p>We will need to add the build tools VS has given us to our system path.</p>
<p>Navigate to environment variables, and add this to the Path variable:</p>
<pre><code>C:\Program Files (x86)\Microsoft Visual Studio\2017\Community\VC\Tools\MSVC\14.10.25017\bin\HostX64\x64`</code></pre>
<p>While you’re here you should set a new environment variable, <code>VisualStudioVersion</code> to <code>15.0</code> (yes 15.0 even though it&#8217;s VS 2017). This enables cmake-using crates (libssh2-sys, etc) to build.</p>
<p>We’re done here for now.</p>
<h2>rustup</h2>
<p><a href="https://www.rustup.rs/" target="_blank">rustup</a> will manage our Rust installation and let us switch between releases, plus nightly and stable branches. It makes it very easy to update. We will be needing nightly later, so rustup is the best way to start.</p>
<p>Go to <a href="https://www.rustup.rs/">rustup.rs</a> and download the installer, it will mention installing the Visual C++ build tools, but VS should have already given us this stuff from earlier, so just proceed.</p>
<p>Press 1 and follow the default installation.</p>
<h2>Install rust-src</h2>
<p>Open up PowerShell: You should now have Rust installed, you can try it out with:</p>
<pre><code>$ rustc --version</code></pre>
<p>Our next task is to install the rust-src, this helps VS find the source it’s looking for. (This is also a helpful step for racer support.)</p>
<p>Before we go ahead though, we should switch to nightly. Nightly gives us <a href="https://msdn.microsoft.com/en-us/library/jj620914">Natvis</a>.</p>
<pre><code class="bash">$ rustup default nightly
$ rustup component add rust-src</code></pre>
<p>You will now have some files located at:</p>
<pre><code>C:\Users\[User]\.multirust\toolchains\nightly-x86_64-pc-windows-msvc\lib\rustlib\src\rust\src</code></pre>
<p>Although not useful for now, you’ll need this path for <i>Optional: Stepping into the standard Library</i> further down.</p>
<h2>Add Natvis for Rust</h2>
<p>Natvis files gives Visual Studio-friendly visualisations of native objects in Rust. The Rust team have added Vec, LinkedList, VecDeque, String, Option plus many more Natvis visualizations.</p>
<p>Here’s how to use them:</p>
<pre><code>C:\Users\[User]\.multirust\toolchains\nightly-x86_64-pc-windows-msvc\lib\rustlib\src\rust\src\etc\natvis</code></pre>
<p>Copy the .natvis files in here, and place them in</p>
<pre><code>C:\Users\[User]\Documents\Visual Studio 2017\Visualizers</code></pre>
<p>Don’t worry if Visualizers isn’t there, you can create this directory.</p>
<h2>Building Servo</h2>
<p>I won’t go too much into setting up Servo here, as that’s covered in: <a href="https://github.com/servo/servo/#on-windows-msvc--mingw">https://github.com/servo/servo/#on-windows-msvc&#8211;mingw</a></p>
<p>Build the latest version using <code>--dev</code>, I&#8217;m just running</p>
<pre><code>$ mach.bat build --dev</code></pre>
<p>in PowerShell here. It’s important you use the <code>--dev</code> option as debugging will not work without it.</p>
<h2>Back to Visual Studio</h2>
<p>Now that we have Servo built, let&#8217;s run it.</p>
<p>You can open up Visual Studio, File, Open, Project/Solution, change “All Project Files” to “Exe project files” and navigate to your servo.exe binary, usually in <code>target/debug/servo.exe</code>.</p>
<p>If you need to pass in arguments you can right click Servo in the solution explorer on the right. Once ready, you can click start at the top.</p>
<p>This should load up Servo and you may see some fancy memory profiling in the background in VS. You can pause at any point and it should land in the code where it’s paused. If this doesn’t happen make sure that Thread: is set to “Main Thread”.</p>
<p>For example, if the browser is idle and we pause, we may land on this line:</p>
<pre><code>self.window.events_receiver.recv().ok()</code></pre>
<h2>Optional: Stepping into the standard Library</h2>
<p>Remember the rust-src we installed earlier? Well this is useful if we want to see what the standard library is doing, otherwise the debugger may moan when you click on std::* functions. So in order to tell VS about rust source code we right click on the solution name on the right “Solution ‘servo’” and select properties, then inside “Common Properties/Debug Source Files” add that path to the top window.</p>
<h2>Setting breakpoints</h2>
<p>This is straightforward too, you can drag any Rust file from the project into VS and set a breakpoint. Click start again and the program should stop at that point. You can then step in and out of functions or use continue and breakpoints to inspect the execution of your program. You can see the stack trace and variables within scope at the bottom too!</p>
<p>If everything went to plan, you should have something similar to this.</p>
<p><a href="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/04/servoDebug.gif"><img class="aligncenter wp-image-30675 size-large" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/files/2017/04/servoDebug-500x261.gif" alt="Visual Studio loading Servo" width="500" height="261" srcset="https://hacks.mozilla.org/files/2017/04/servoDebug-500x261.gif 500w, https://hacks.mozilla.org/files/2017/04/servoDebug-250x130.gif 250w, https://hacks.mozilla.org/files/2017/04/servoDebug-768x401.gif 768w" sizes="(max-width: 500px) 100vw, 500px" /></a></p>
<h2>Contributing</h2>
<p>So you want to contribute but not sure where to start?</p>
<p><a href="https://starters.servo.org/">https://starters.servo.org/</a> has some great first-PR tickets, plus there are still quite a few <a href="https://github.com/servo/servo/issues?utf8=%E2%9C%93&amp;q=is%3Aopen%20is%3Aissue%20label%3AE-easy">easy tickets</a> outstanding too.</p>
    <section class="about">
                                <h2 class="about__header">About
                          <a class="url" href="http://jason-williams.co.uk" rel="external me">
                Jason Williams              </a>
                      </h3>
                      <p>Jason is a Principal Developer and Tech Lead at the BBC</p>
                    <ul class="author-meta fa-ul"><li><i class="fa-li fa fa-globe"></i><a href="http://jason-williams.co.uk" class="website" rel="me">jason-williams.co.uk</a></li><li><i class="fa-li fa fa-twitter"></i><a href="http://twitter.com/Jason_williams" class="twitter" rel="me">@Jason_williams</a></li></ul>            <p><a class="url" href="https://hacks.mozilla.org/author/jase-williamsgmail-com/">More articles by Jason Williams&hellip;</a></p>
                  </section>
  </article>
  

<section class="discussion">
  <hr class="dino">
  <div class="comments">
    <header class="comments__head">
      <h3>10 comments</h3>
    </header>

          <ol class="comments__list" class="hfeed">
      
 <li id="comment-21020" class="comment even thread-even depth-1">
      <b class="comment__title vcard">
      <cite class="author fn">Ahmed Charles</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>It doesn&#8217;t seem like the instructions here can work because servo doesn&#8217;t currently support MSVC 2017. I assume that if this set of instructions was tested, it worked because MSVC 2015 was installed already. The mach.bat looks for %VS140COMNTOOLS%, which is MSVC 2015.</p>
<p>Note, this can be worked around by executing the appropriate vcvarsall.bat. (I wasn&#8217;t able to get it to work under powershell and it just seems to complicate things compared to using cmd consistently.)</p>
<p>However, there&#8217;s a second error, which is that the MSVC 2017 vcvarsall.bat sets %PLATFORM% to be &#8216;x64&#8217; rather than &#8216;X64&#8217;, which is what is expected in util.host_triple() and therefore, the appropriate rust download can&#8217;t be found.</p>
<p>The third problem is that if a recent version of cmake isn&#8217;t in the path, it will download 3.6.1, which doesn&#8217;t support MSVC 2017.</p>
<p>The fourth problem, which I haven&#8217;t figured out how to fix is that &#8220;\servo\target\debug\build\mozjs_sys-b75999929c5a0ce6\out\dist\include\js\TraceKind.h&#8221; fails to build with MSVC 2017 due to a syntax error: (176): error C2760: syntax error: expected &#8216;)&#8217; not &#8216;&#8230;&#8217;</p>
<p>It looks like valid C++ to me, but I can&#8217;t figure out what&#8217;s going on.</p>
<p>Perhaps the instructions should be changed to install MSVC 2015 until the issues with 2017 are resolved? Thanks for getting it to work on 2015. :)</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21020" rel="bookmark" title="Permanent link to this comment by Ahmed Charles"><abbr class="published" title="2017-04-07">April 7th, 2017</abbr> at 01:43</a>

      <p class="comment__util"> </p>
  <ol class="children">

 <li id="comment-21023" class="comment odd alt depth-2">
      <b class="comment__title vcard">
      <cite class="author fn">Lars Bergstrom</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Ahmed,</p>
<p>Thanks for the detailed investigation! I&#8217;ll open an issue on the Servo side with this information and update the instructions to point at 2015 for now.<br />
&#8211; Lars</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21023" rel="bookmark" title="Permanent link to this comment by Lars Bergstrom"><abbr class="published" title="2017-04-07">April 7th, 2017</abbr> at 10:12</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->

 <li id="comment-21028" class="comment even depth-2">
      <b class="comment__title vcard">
      <cite class="author fn">Lars Bergstrom</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Ahmed,</p>
<p>It should work now! One of our amazing community contributors landed <a href="https://github.com/servo/servo/pull/16307" rel="nofollow">https://github.com/servo/servo/pull/16307</a>, which added support for Visual Studio 2017.<br />
&#8211; Lars</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21028" rel="bookmark" title="Permanent link to this comment by Lars Bergstrom"><abbr class="published" title="2017-04-12">April 12th, 2017</abbr> at 17:29</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->

 <li id="comment-21021" class="comment odd alt thread-odd thread-alt depth-1">
      <b class="comment__title vcard">
      <cite class="author fn">Volker</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Why not cross-compiling using a MinGW toolchain such as MXE? (<a href="http://mxe.cc/" rel="nofollow">http://mxe.cc/</a>)</p>
<p>That way, you don&#8217;t even need a Windows, or any other proprietary OS for that matter, to build your port.</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21021" rel="bookmark" title="Permanent link to this comment by Volker"><abbr class="published" title="2017-04-07">April 7th, 2017</abbr> at 04:32</a>

      <p class="comment__util"> </p>
  <ol class="children">

 <li id="comment-21022" class="comment even depth-2">
      <b class="comment__title vcard">
      <cite class="author fn">Lars Bergstrom</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Volker,</p>
<p>We initially used MinGW and it&#8217;s a fine product for early porting of Unix applications. Unfortunately, many of the dependencies (font libraries, etc.) are not written to use the native Windows APIs or optimized for Windows and caused Servo for Windows to have really degraded performance. Further, the debugging experience (gdb for Windows) did not integrate with the tools and was empirically far less mature and useful than even the early MSVC debugging support in Rust and LLVM.</p>
<p>We continue to test building Servo with MinGW for consumers who have a requirement for such a toolchain, but we would not ship such a build to users or encourage developers work on that platform unless they have a business need for it.</p>
<p>Hope that helps!<br />
&#8211; Lars</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21022" rel="bookmark" title="Permanent link to this comment by Lars Bergstrom"><abbr class="published" title="2017-04-07">April 7th, 2017</abbr> at 10:11</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->

 <li id="comment-21031" class="comment odd alt depth-2">
      <b class="comment__title vcard">
      <cite class="author fn">Michael &#8220;notriddle&#8221; Howell</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Servo would still need a Windows machine lying around to run the test suite on, so cross-compiling from Linux to Windows would not gain very much&#8230;</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21031" rel="bookmark" title="Permanent link to this comment by Michael &#8220;notriddle&#8221; Howell"><abbr class="published" title="2017-04-13">April 13th, 2017</abbr> at 08:43</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->

 <li id="comment-21025" class="comment even thread-even depth-1">
      <b class="comment__title vcard">
      <cite class="author fn">Kamal</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>This is good news, will we see an update to this page:-</p>
<p><a href="https://download.servo.org/" rel="nofollow">https://download.servo.org/</a></p>
<p>With an installer for windows?</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21025" rel="bookmark" title="Permanent link to this comment by Kamal"><abbr class="published" title="2017-04-09">April 9th, 2017</abbr> at 20:54</a>

      <p class="comment__util"> </p>
  <ol class="children">

 <li id="comment-21027" class="comment odd alt depth-2">
      <b class="comment__title vcard">
      <cite class="author fn">Lars Bergstrom</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Kamal,</p>
<p>We just have *one* more blocking issue on Windows, related to keyboard input. We have a tracking issue here that records the remaining work to make the download publicly available:<br />
<a href="https://github.com/servo/servo/issues/12125" rel="nofollow">https://github.com/servo/servo/issues/12125</a></p>
<p>Sorry it isn&#8217;t ready to go quite yet!<br />
&#8211; Lars</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21027" rel="bookmark" title="Permanent link to this comment by Lars Bergstrom"><abbr class="published" title="2017-04-10">April 10th, 2017</abbr> at 11:13</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->

 <li id="comment-21039" class="comment even depth-2">
      <b class="comment__title vcard">
      <cite class="author fn">Lars Bergstrom</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Kamal,</p>
<p>It&#8217;s live now!<br />
<a href="https://blog.servo.org/2017/04/13/windows/" rel="nofollow">https://blog.servo.org/2017/04/13/windows/</a><br />
&#8211; Lars</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21039" rel="bookmark" title="Permanent link to this comment by Lars Bergstrom"><abbr class="published" title="2017-04-14">April 14th, 2017</abbr> at 06:42</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->

 <li id="comment-21034" class="comment odd alt thread-odd thread-alt depth-1">
      <b class="comment__title vcard">
      <cite class="author fn">Elahn Ientile</cite>
    </b>
  
    
    <blockquote class="comment__body">
      <p>Great post, thanks!</p>
<p>Nit: there&#8217;s an unwanted backtick at the end of the VS build tools path.</p>
    </blockquote>

    <a class="comment__meta" href="https://hacks.mozilla.org/2017/04/hacking-contributing-to-servo-on-windows/#comment-21034" rel="bookmark" title="Permanent link to this comment by Elahn Ientile"><abbr class="published" title="2017-04-13">April 13th, 2017</abbr> at 16:06</a>

      <p class="comment__util"> </p>
  </li><!-- #comment-## -->
      </ol>
      </div>

<p class="comments__closed"><b>Comments are closed for this article.</b></p>


</main><!-- /#content-main -->

  

    <footer class="footer section section--fullwidth">
      <div class="row">
        <p class="block block--1">
          Except where otherwise noted, content on this site is licensed
          under the
          <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license external">Creative Commons Attribution Share-Alike License v3.0</a>
          or any later version.
        </p>
        <img class="footer__logo" alt="the Mozilla dino logo" src="https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/themes/Hax/img/dino.svg">
      </div>
    </footer>
  </div>
  <link rel='stylesheet' id='hljstheme-css'  href='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/plugins/wp-code-highlightjs/styles/default.css?ver=0.5.17' type='text/css' media='all' />
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/plugins/wp-syntax/js/wp-syntax.js?ver=1.1'></script>
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-includes/js/wp-embed.min.js?ver=4.7.3'></script>
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/plugins/wp-code-highlightjs/highlight.common.pack.js?ver=0.5.17'></script>
<script type='text/javascript' src='https://2r4s9p1yi1fa2jd7j43zph8r-wpengine.netdna-ssl.com/wp-content/plugins/wp-code-highlightjs/highlight.custom.pack.js?ver=0.5.17'></script>
    <style>pre.hljs {padding: 5px;}
pre.hljs code {}</style>
    <script type="text/javascript">
    (function($, window) {
        var init_fn_flag = false;
        var init_fn = (function() {
            if (init_fn_flag)
                return;
            init_fn_flag = true;
             hljs.configure({"tabReplace":"    "});
            $('pre code').each(function(i, block) {
                hljs.highlightBlock(block);
            });
        });
        $(document).ready(init_fn);
        $(window).on("load", init_fn);
    })(jQuery, window);
    </script>
  <script>
    // External links should open in a new tab.
    (function () {
      var postLinks = document.querySelectorAll('#content-main a');

      var origin = location.origin;

      for (var i = 0; i < postLinks.length; i++) {
        var link = postLinks[i];
        if (link.origin !== origin && !link.getAttribute('target')) {
          link.setAttribute('target', '_blank');
        }
      }
    })();

    window.addEventListener('load', function () {
      if (document.querySelector('#newsletterForm')) {
        var script = document.createElement('script');
        var path = document.head.getAttribute('data-template-path');
        script.setAttribute('src', path + '/js/newsletter.js');
        document.head.appendChild(script);
      }
    });
  </script>
</body>
</html>
